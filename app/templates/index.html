<!DOCTYPE html>
<html>
<head>
    <title>Lista de Alunos</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <h1>Lista de Alunos</h1>

    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <ul>
                {% for message in messages %}
                    <li>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <table>
        <thead>
            <tr>
                <th>CPF</th>
                <th>Nome</th>
                <th>Data de Nascimento</th>
                <th>Sexo</th>
                <th>Idade</th>
                <th>AV1</th>
                <th>AV2</th>
                <th>Média</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for aluno in alunos %}
                <tr>
                    <td>{{ aluno.cpf }}</td>
                    <td>{{ aluno.nome }}</td>
                    <td>{{ aluno.data_nascimento }}</td>
                    <td>{{ aluno.sexo }}</td>
                    <td>{{ aluno.idade }}</td>
                    <td>{{ aluno.av1 }}</td>
                    <td>{{ aluno.av2 }}</td>
                    <td>{{ aluno.media }}</td>
                    <td>
                        <form action="/delete/{{ aluno.id }}" method="post">
                            <button type="submit">Deletar</button>
                        </form>
                        <a href="/edit/{{ aluno.id }}">Editar</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2>Cadastrar Aluno</h2>
    <form action="/add" method="post">
        <label for="cpf">CPF:</label>
        <input type="text" name="cpf" required><br>
        <label for="nome">Nome:</label>
        <input type="text" name="nome" required><br>
        <label for="data_nascimento">Data de Nascimento:</label>
        <input type="date" name="data_nascimento" required><br>
        <label for="sexo">Sexo:</label>
        <input type="text" name="sexo" required><br>
        <label for="av1">AV1:</label>
        <input type="number" name="av1" step="0.01" required><br>
        <label for="av2">AV2:</label>
        <input type="number" name="av2" step="0.01" required><br>
        <button type="submit">Cadastrar</button>
    </form>
</body>
</html>